{"ast":null,"code":"/**\r\n * ItemList React component\r\n *\r\n * Renders a searchable, filterable list of items available for re-use, allows authenticated\r\n * users to post new items with a location and image, and displays personalized recommendations.\r\n *\r\n * Behaviour and responsibilities:\r\n * - Fetches all items from the backend API at GET http://localhost:5000/api/items and stores\r\n *   them in local state.\r\n * - If a JWT token is present in localStorage, decodes it to obtain the current user id and\r\n *   interests (via jwtDecode) and fetches recommendations from\r\n *   GET http://localhost:5001/recommendations using the token in the Authorization header.\r\n *   Recommendations are deduplicated by item_id and filtered by the user's interests (categories).\r\n * - Supports searching by keyword (title or description) and filtering by category in the UI.\r\n * - Supports toggling between a \"recent only\" view (first 5 results) and a full view sorted\r\n *   by category.\r\n * - For each item, displays title, description, exchange condition, poster name, status,\r\n *   image (via GET http://localhost:5000/api/items/:id/image) and an embedded Google Maps iframe\r\n *   when a valid location is available (item.location expected to be a JSON string with { lat, lng }).\r\n * - If the current user is not the owner of an active item, a \"Message Owner\" button navigates\r\n *   to /messages/:itemId/:ownerId.\r\n * - Authenticated users (determined by presence of decoded token id) can post new items via a\r\n *   multipart/form-data POST to http://localhost:5000/api/items. The form includes:\r\n *     - title (string)\r\n *     - description (string)\r\n *     - location (stringified JSON)\r\n *     - image (File)\r\n *     - exchangeCondition (string)\r\n *     - category (string)\r\n *   The token is sent in the Authorization header.\r\n * - Provides an image preview when a file is selected via an <input type=\"file\"> before upload.\r\n * - Displays success/error messages returned by the backend or produced by client-side validation.\r\n *\r\n * State (React useState):\r\n * - items: Array<Object> - fetched items from the main backend.\r\n * - recommendations: Array<Object> - fetched and filtered recommendation items.\r\n * - name: string - input for the new item title.\r\n * - description: string - input for the new item description.\r\n * - exchangeCondition: string - input for the new item's exchange conditions.\r\n * - category: string - selected category for new item (default 'electronics').\r\n * - location: { lat: number, lng: number } | null - selected geography from MapPicker.\r\n * - image: File | null - selected image file for upload.\r\n * - imagePreview: string | null - data URL for previewing the selected image.\r\n * - userId: string | null - id decoded from JWT; used to determine ownership and posting rights.\r\n * - messages: { type: 'success' | 'error' | '', text: string } - UI feedback messages.\r\n * - showRecentOnly: boolean - toggle to show the first 5 items only.\r\n * - interests: string - (unused in rendering) intended to hold user interests input.\r\n * - searchKeyword: string - keyword string used to filter items by title/description.\r\n * - searchCategory: string - category string used to further filter items.\r\n *\r\n * Key internal functions:\r\n * - fetchItems(): Promise<void>\r\n *   Fetches items from GET /api/items, stores them in `items` state and logs errors to console.\r\n *\r\n * - fetchRecommendations(userInterests: Array<string> = []): Promise<void>\r\n *   Fetches recommendation data from the recommendation service at http://localhost:5001/recommendations.\r\n *   Requires Authorization: Bearer <token>. Deduplicates results by item_id and filters by the\r\n *   provided userInterests. Updates `recommendations` state.\r\n *\r\n * - handleImageChange(e: Event): void\r\n *   Reads the selected File from an <input type=\"file\">, stores it in `image` and creates a\r\n *   data URL for `imagePreview` so the user can preview before upload.\r\n *\r\n * - handleSubmit(e: Event): Promise<void>\r\n *   Handles the posting of a new item. Prevents default form submission, validates presence of\r\n *   token, userId and location, constructs a FormData payload and POSTs it to /api/items with\r\n *   Authorization header. On success clears form fields and refetches items; on error sets `messages`.\r\n *\r\n * - toggleView(): void\r\n *   Toggles the `showRecentOnly` boolean to switch list presentation.\r\n *\r\n * Rendering:\r\n * - A search bar (text input + category select).\r\n * - A recommendations section (if recommendations exist) showing deduplicated recommended items.\r\n * - The main items list, using `displayedItems` derived from search, category filter and toggle state.\r\n * - A posting form for authenticated users which includes MapPicker for selecting location,\r\n *   file input for images and client-side previewing.\r\n *\r\n * \r\n * - item objects returned by the backend are expected to contain at least:\r\n *   { id | item_id, title, description, exchange_condition, category, location (JSON string), poster_name, user_id, status }\r\n * - image endpoints are expected at GET /api/items/:id/image (for both item.id and item.item_id usage).\r\n * - JWT decoding uses jwtDecode(token) and the decoded token is expected to have { id, interests }.\r\n * - MapPicker is a child component that calls setLocation({ lat, lng }) when location is selected.\r\n * - Error handling is conservative: errors are logged and user-facing messages are provided where appropriate.\r\n *\r\n * @component\r\n * @returns {JSX.Element} The ItemList component JSX\r\n */import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{jwtDecode}from'jwt-decode';import MapPicker from'./MapPicker';import'../styles/ItemList.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ItemList=()=>{const[items,setItems]=useState([]);const[recommendations,setRecommendations]=useState([]);const[name,setName]=useState('');const[description,setDescription]=useState('');const[exchangeCondition,setExchangeCondition]=useState('');const[category,setCategory]=useState('electronics');const[location,setLocation]=useState(null);const[image,setImage]=useState(null);const[imagePreview,setImagePreview]=useState(null);const[userId,setUserId]=useState(null);const[messages,setMessages]=useState({type:'',text:''});const[showRecentOnly,setShowRecentOnly]=useState(false);const[interests,setInterests]=useState('');const[searchKeyword,setSearchKeyword]=useState('');const[searchCategory,setSearchCategory]=useState('');const navigate=useNavigate();useEffect(()=>{const token=localStorage.getItem('token');if(token){try{const decoded=jwtDecode(token);setUserId(decoded.id);fetchRecommendations(decoded.interests||[]);}catch(err){console.error('Invalid token:',err);}}fetchItems();},[]);useEffect(()=>{const fetchItems=async()=>{try{const res=await fetch('http://localhost:5000/api/items');const data=await res.json();setItems(data);}catch(err){console.error('Error fetching items:',err);}};fetchItems();},[]);const fetchItems=async()=>{try{const response=await fetch('http://localhost:5000/api/items');const result=await response.json();setItems(result);}catch(error){console.error('Error fetching items:',error);}};const fetchRecommendations=async function(){let userInterests=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];const token=localStorage.getItem('token');if(!token)return;try{const response=await fetch('http://localhost:5001/recommendations',{method:'GET',headers:{'Authorization':\"Bearer \".concat(token)}});if(!response.ok)return;const result=await response.json();if(Array.isArray(result.items)){// Remove duplicates by item_id\nconst uniqueItems=Array.from(new Map(result.items.map(item=>[item.item_id,item])).values());// Filter by user interests (categories)\nconst filteredItems=uniqueItems.filter(item=>userInterests.includes(item.category));// If filtered list is empty, fallback to uniqueItems\nsetRecommendations(filteredItems.length>0?filteredItems:uniqueItems);}}catch(error){console.error('Error fetching recommendations:',error);}};const handleImageChange=e=>{const file=e.target.files[0];setImage(file);if(file){const reader=new FileReader();reader.onloadend=()=>{setImagePreview(reader.result);};reader.readAsDataURL(file);}else{setImagePreview(null);}};const handleSubmit=async e=>{e.preventDefault();const token=localStorage.getItem('token');if(!token||!userId||!location)return;const formDataToSend=new FormData();formDataToSend.append('title',name);formDataToSend.append('description',description);formDataToSend.append('location',JSON.stringify(location));formDataToSend.append('image',image);formDataToSend.append('exchangeCondition',exchangeCondition);formDataToSend.append('category',category);try{const response=await fetch('http://localhost:5000/api/items',{method:'POST',headers:{Authorization:\"Bearer \".concat(token)},body:formDataToSend});const result=await response.json();if(response.ok){setMessages({type:'success',text:result.message||'Item posted successfully!'});setName('');setDescription('');setExchangeCondition('');setCategory('electronics');setLocation(null);setImage(null);setImagePreview(null);fetchItems();}else{setMessages({type:'error',text:result.message||'Failed to post item.'});}}catch(error){setMessages({type:'error',text:'An error occurred while posting the item.'});}};const toggleView=()=>{setShowRecentOnly(!showRecentOnly);};const filteredItems=items.filter(item=>{const matchesKeyword=item.title.toLowerCase().includes(searchKeyword.toLowerCase())||item.description.toLowerCase().includes(searchKeyword.toLowerCase());const matchesCategory=searchCategory===''||item.category===searchCategory;return matchesKeyword&&matchesCategory;});const displayedItems=showRecentOnly?filteredItems.slice(0,5):[...filteredItems].sort((a,b)=>a.category.localeCompare(b.category));return/*#__PURE__*/_jsxs(\"div\",{className:\"item-list-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-bar\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by keyword...\",value:searchKeyword,onChange:e=>setSearchKeyword(e.target.value)}),/*#__PURE__*/_jsxs(\"select\",{value:searchCategory,onChange:e=>setSearchCategory(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Categories\"}),/*#__PURE__*/_jsx(\"option\",{value:\"electronics\",children:\"Electronics\"}),/*#__PURE__*/_jsx(\"option\",{value:\"clothes\",children:\"Clothes\"}),/*#__PURE__*/_jsx(\"option\",{value:\"textbook\",children:\"Textbooks\"}),/*#__PURE__*/_jsx(\"option\",{value:\"furniture\",children:\"furniture\"})]})]}),recommendations.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"recommendations\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Recommended for You\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"item-list\",children:recommendations.map(item=>/*#__PURE__*/_jsxs(\"li\",{className:\"item-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:item.title}),/*#__PURE__*/_jsx(\"p\",{children:item.description}),/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:5000/api/items/\".concat(item.item_id,\"/image\"),alt:item.title,className:\"item-image\"})]},item.item_id))})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"List of available Items\"}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleView,className:\"toggle-button\",children:showRecentOnly?'Show All Items':'Show Recent Items'}),/*#__PURE__*/_jsx(\"ul\",{className:\"item-list\",children:displayedItems.map(item=>{let loc=null;try{loc=JSON.parse(item.location);}catch(e){loc=null;}const isCompleted=item.status==='completed';return/*#__PURE__*/_jsxs(\"li\",{className:\"item-card \".concat(isCompleted?'inactive':''),children:[/*#__PURE__*/_jsx(\"h3\",{children:item.title}),/*#__PURE__*/_jsx(\"p\",{children:item.description}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Exchange Conditions:\"}),\" \",item.exchange_condition]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Posted by:\"}),\" \",item.poster_name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),\" \",isCompleted?'âœ… Completed':'ðŸŸ¢ Active']}),/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:5000/api/items/\".concat(item.id,\"/image\"),alt:item.title,className:\"item-image\"}),loc&&/*#__PURE__*/_jsx(\"div\",{className:\"item-map\",children:/*#__PURE__*/_jsx(\"iframe\",{width:\"100%\",height:\"200\",frameBorder:\"0\",style:{border:0},src:\"https://www.google.com/maps?q=\".concat(loc.lat,\",\").concat(loc.lng,\"&hl=es;z=14&output=embed\"),allowFullScreen:true,title:\"Item Location\"})}),userId!==item.user_id&&!isCompleted&&/*#__PURE__*/_jsx(\"button\",{className:\"messages-button\",onClick:()=>navigate(\"/messages/\".concat(item.id,\"/\").concat(item.user_id)),children:\"Message Owner\"})]},item.id);})}),/*#__PURE__*/_jsx(\"h2\",{children:\"Post for Re-Use\"}),messages.text&&/*#__PURE__*/_jsx(\"div\",{className:\"messages \".concat(messages.type),children:messages.text}),userId&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"item-form\",encType:\"multipart/form-data\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Item Name\",value:name,onChange:e=>setName(e.target.value),required:true}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Item Description\",value:description,onChange:e=>setDescription(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Exchange Conditions\",value:exchangeCondition,onChange:e=>setExchangeCondition(e.target.value),required:true}),/*#__PURE__*/_jsxs(\"select\",{value:category,onChange:e=>setCategory(e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"electronics\",children:\"Electronics\"}),/*#__PURE__*/_jsx(\"option\",{value:\"clothes\",children:\"Clothing\"}),/*#__PURE__*/_jsx(\"option\",{value:\"textbook\",children:\"Textbooks\"}),/*#__PURE__*/_jsx(\"option\",{value:\"furniture\",children:\"furniture\"})]}),/*#__PURE__*/_jsx(\"label\",{children:\"Select Location on Map:\"}),/*#__PURE__*/_jsx(MapPicker,{setLocation:setLocation}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleImageChange,required:true}),imagePreview&&/*#__PURE__*/_jsx(\"img\",{src:imagePreview,alt:\"Preview\",className:\"image-preview\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Post For Re-user\"})]})]});};export default ItemList;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jwtDecode","MapPicker","jsx","_jsx","jsxs","_jsxs","ItemList","items","setItems","recommendations","setRecommendations","name","setName","description","setDescription","exchangeCondition","setExchangeCondition","category","setCategory","location","setLocation","image","setImage","imagePreview","setImagePreview","userId","setUserId","messages","setMessages","type","text","showRecentOnly","setShowRecentOnly","interests","setInterests","searchKeyword","setSearchKeyword","searchCategory","setSearchCategory","navigate","token","localStorage","getItem","decoded","id","fetchRecommendations","err","console","error","fetchItems","res","fetch","data","json","response","result","userInterests","arguments","length","undefined","method","headers","concat","ok","Array","isArray","uniqueItems","from","Map","map","item","item_id","values","filteredItems","filter","includes","handleImageChange","e","file","target","files","reader","FileReader","onloadend","readAsDataURL","handleSubmit","preventDefault","formDataToSend","FormData","append","JSON","stringify","Authorization","body","message","toggleView","matchesKeyword","title","toLowerCase","matchesCategory","displayedItems","slice","sort","a","b","localeCompare","className","children","placeholder","value","onChange","src","alt","onClick","loc","parse","isCompleted","status","exchange_condition","poster_name","width","height","frameBorder","style","border","lat","lng","allowFullScreen","user_id","onSubmit","encType","required","accept"],"sources":["C:/Users/dericks.MIDMUNIC/Documents/ReUseCampusHub/client/src/components/ItemList.js"],"sourcesContent":["/**\r\n * ItemList React component\r\n *\r\n * Renders a searchable, filterable list of items available for re-use, allows authenticated\r\n * users to post new items with a location and image, and displays personalized recommendations.\r\n *\r\n * Behaviour and responsibilities:\r\n * - Fetches all items from the backend API at GET http://localhost:5000/api/items and stores\r\n *   them in local state.\r\n * - If a JWT token is present in localStorage, decodes it to obtain the current user id and\r\n *   interests (via jwtDecode) and fetches recommendations from\r\n *   GET http://localhost:5001/recommendations using the token in the Authorization header.\r\n *   Recommendations are deduplicated by item_id and filtered by the user's interests (categories).\r\n * - Supports searching by keyword (title or description) and filtering by category in the UI.\r\n * - Supports toggling between a \"recent only\" view (first 5 results) and a full view sorted\r\n *   by category.\r\n * - For each item, displays title, description, exchange condition, poster name, status,\r\n *   image (via GET http://localhost:5000/api/items/:id/image) and an embedded Google Maps iframe\r\n *   when a valid location is available (item.location expected to be a JSON string with { lat, lng }).\r\n * - If the current user is not the owner of an active item, a \"Message Owner\" button navigates\r\n *   to /messages/:itemId/:ownerId.\r\n * - Authenticated users (determined by presence of decoded token id) can post new items via a\r\n *   multipart/form-data POST to http://localhost:5000/api/items. The form includes:\r\n *     - title (string)\r\n *     - description (string)\r\n *     - location (stringified JSON)\r\n *     - image (File)\r\n *     - exchangeCondition (string)\r\n *     - category (string)\r\n *   The token is sent in the Authorization header.\r\n * - Provides an image preview when a file is selected via an <input type=\"file\"> before upload.\r\n * - Displays success/error messages returned by the backend or produced by client-side validation.\r\n *\r\n * State (React useState):\r\n * - items: Array<Object> - fetched items from the main backend.\r\n * - recommendations: Array<Object> - fetched and filtered recommendation items.\r\n * - name: string - input for the new item title.\r\n * - description: string - input for the new item description.\r\n * - exchangeCondition: string - input for the new item's exchange conditions.\r\n * - category: string - selected category for new item (default 'electronics').\r\n * - location: { lat: number, lng: number } | null - selected geography from MapPicker.\r\n * - image: File | null - selected image file for upload.\r\n * - imagePreview: string | null - data URL for previewing the selected image.\r\n * - userId: string | null - id decoded from JWT; used to determine ownership and posting rights.\r\n * - messages: { type: 'success' | 'error' | '', text: string } - UI feedback messages.\r\n * - showRecentOnly: boolean - toggle to show the first 5 items only.\r\n * - interests: string - (unused in rendering) intended to hold user interests input.\r\n * - searchKeyword: string - keyword string used to filter items by title/description.\r\n * - searchCategory: string - category string used to further filter items.\r\n *\r\n * Key internal functions:\r\n * - fetchItems(): Promise<void>\r\n *   Fetches items from GET /api/items, stores them in `items` state and logs errors to console.\r\n *\r\n * - fetchRecommendations(userInterests: Array<string> = []): Promise<void>\r\n *   Fetches recommendation data from the recommendation service at http://localhost:5001/recommendations.\r\n *   Requires Authorization: Bearer <token>. Deduplicates results by item_id and filters by the\r\n *   provided userInterests. Updates `recommendations` state.\r\n *\r\n * - handleImageChange(e: Event): void\r\n *   Reads the selected File from an <input type=\"file\">, stores it in `image` and creates a\r\n *   data URL for `imagePreview` so the user can preview before upload.\r\n *\r\n * - handleSubmit(e: Event): Promise<void>\r\n *   Handles the posting of a new item. Prevents default form submission, validates presence of\r\n *   token, userId and location, constructs a FormData payload and POSTs it to /api/items with\r\n *   Authorization header. On success clears form fields and refetches items; on error sets `messages`.\r\n *\r\n * - toggleView(): void\r\n *   Toggles the `showRecentOnly` boolean to switch list presentation.\r\n *\r\n * Rendering:\r\n * - A search bar (text input + category select).\r\n * - A recommendations section (if recommendations exist) showing deduplicated recommended items.\r\n * - The main items list, using `displayedItems` derived from search, category filter and toggle state.\r\n * - A posting form for authenticated users which includes MapPicker for selecting location,\r\n *   file input for images and client-side previewing.\r\n *\r\n * \r\n * - item objects returned by the backend are expected to contain at least:\r\n *   { id | item_id, title, description, exchange_condition, category, location (JSON string), poster_name, user_id, status }\r\n * - image endpoints are expected at GET /api/items/:id/image (for both item.id and item.item_id usage).\r\n * - JWT decoding uses jwtDecode(token) and the decoded token is expected to have { id, interests }.\r\n * - MapPicker is a child component that calls setLocation({ lat, lng }) when location is selected.\r\n * - Error handling is conservative: errors are logged and user-facing messages are provided where appropriate.\r\n *\r\n * @component\r\n * @returns {JSX.Element} The ItemList component JSX\r\n */\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { jwtDecode } from 'jwt-decode';\r\nimport MapPicker from './MapPicker';\r\nimport '../styles/ItemList.css';\r\n\r\nconst ItemList = () => {\r\n  const [items, setItems] = useState([]);\r\n  const [recommendations, setRecommendations] = useState([]);\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [exchangeCondition, setExchangeCondition] = useState('');\r\n  const [category, setCategory] = useState('electronics');\r\n  const [location, setLocation] = useState(null);\r\n  const [image, setImage] = useState(null);\r\n  const [imagePreview, setImagePreview] = useState(null);\r\n  const [userId, setUserId] = useState(null);\r\n  const [messages, setMessages] = useState({ type: '', text: '' });\r\n  const [showRecentOnly, setShowRecentOnly] = useState(false);\r\n  const [interests, setInterests] = useState('');\r\n  const [searchKeyword, setSearchKeyword] = useState('');\r\n  const [searchCategory, setSearchCategory] = useState('');\r\n\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n  const token = localStorage.getItem('token');\r\n  if (token) {\r\n    try {\r\n      const decoded = jwtDecode(token);\r\n      setUserId(decoded.id);\r\n      fetchRecommendations(decoded.interests || []);\r\n    } catch (err) {\r\n      console.error('Invalid token:', err);\r\n    }\r\n  }\r\n  fetchItems();\r\n}, []);\r\n\r\n\r\nuseEffect(() => {\r\n    const fetchItems = async () => {\r\n      try {\r\n        const res = await fetch('http://localhost:5000/api/items');\r\n        const data = await res.json();\r\n        setItems(data);\r\n      } catch (err) {\r\n        console.error('Error fetching items:', err);\r\n      }\r\n    };\r\n\r\n    fetchItems();\r\n  }, []);\r\n\r\n  \r\n\r\n\r\n  const fetchItems = async () => {\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/items');\r\n      const result = await response.json();\r\n      setItems(result);\r\n    } catch (error) {\r\n      console.error('Error fetching items:', error);\r\n    }\r\n  };\r\n\r\n  const fetchRecommendations = async (userInterests = []) => {\r\n  const token = localStorage.getItem('token');\r\n  if (!token) return;\r\n\r\n  try {\r\n    const response = await fetch('http://localhost:5001/recommendations', {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n      },\r\n    });\r\n\r\n    if (!response.ok) return;\r\n    const result = await response.json();\r\n\r\n    if (Array.isArray(result.items)) {\r\n      // Remove duplicates by item_id\r\n      const uniqueItems = Array.from(new Map(result.items.map(item => [item.item_id, item])).values());\r\n\r\n      // Filter by user interests (categories)\r\n      const filteredItems = uniqueItems.filter(item =>\r\n        userInterests.includes(item.category)\r\n      );\r\n\r\n      // If filtered list is empty, fallback to uniqueItems\r\n      setRecommendations(filteredItems.length > 0 ? filteredItems : uniqueItems);\r\n    }\r\n  } catch (error) {\r\n    console.error('Error fetching recommendations:', error);\r\n  }\r\n};\r\n\r\n  const handleImageChange = (e) => {\r\n    const file = e.target.files[0];\r\n    setImage(file);\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        setImagePreview(reader.result);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    } else {\r\n      setImagePreview(null);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const token = localStorage.getItem('token');\r\n    if (!token || !userId || !location) return;\r\n\r\n    const formDataToSend = new FormData();\r\n    formDataToSend.append('title', name);\r\n    formDataToSend.append('description', description);\r\n    formDataToSend.append('location', JSON.stringify(location));\r\n    formDataToSend.append('image', image);\r\n    formDataToSend.append('exchangeCondition', exchangeCondition);\r\n    formDataToSend.append('category', category);\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/items', {\r\n        method: 'POST',\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: formDataToSend,\r\n      });\r\n      const result = await response.json();\r\n      if (response.ok) {\r\n        setMessages({ type: 'success', text: result.message || 'Item posted successfully!' });\r\n        setName('');\r\n        setDescription('');\r\n        setExchangeCondition('');\r\n        setCategory('electronics');\r\n        setLocation(null);\r\n        setImage(null);\r\n        setImagePreview(null);\r\n        fetchItems();\r\n      } else {\r\n        setMessages({ type: 'error', text: result.message || 'Failed to post item.' });\r\n      }\r\n    } catch (error) {\r\n      setMessages({ type: 'error', text: 'An error occurred while posting the item.' });\r\n    }\r\n  };\r\n\r\n  const toggleView = () => {\r\n    setShowRecentOnly(!showRecentOnly);\r\n  };\r\n\r\n  const filteredItems = items.filter(item => {\r\n    const matchesKeyword = item.title.toLowerCase().includes(searchKeyword.toLowerCase()) ||\r\n                           item.description.toLowerCase().includes(searchKeyword.toLowerCase());\r\n    const matchesCategory = searchCategory === '' || item.category === searchCategory;\r\n    return matchesKeyword && matchesCategory;\r\n  });\r\n\r\n  const displayedItems = showRecentOnly\r\n    ? filteredItems.slice(0, 5)\r\n    : [...filteredItems].sort((a, b) => a.category.localeCompare(b.category));\r\n\r\n  return (\r\n    <div className=\"item-list-container\">\r\n      <div className=\"search-bar\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search by keyword...\"\r\n          value={searchKeyword}\r\n          onChange={(e) => setSearchKeyword(e.target.value)}\r\n        />\r\n        <select value={searchCategory} onChange={(e) => setSearchCategory(e.target.value)}>\r\n          <option value=\"\">All Categories</option>\r\n          <option value=\"electronics\">Electronics</option>\r\n          <option value=\"clothes\">Clothes</option>\r\n          <option value=\"textbook\">Textbooks</option>\r\n          <option value=\"furniture\">furniture</option>\r\n        </select>\r\n      </div>\r\n\r\n      {recommendations.length > 0 && (\r\n        <div className=\"recommendations\">\r\n          <h3>Recommended for You</h3>\r\n          <ul className=\"item-list\">\r\n            {recommendations.map(item => (\r\n              <li key={item.item_id} className=\"item-card\">\r\n                <h4>{item.title}</h4>\r\n                <p>{item.description}</p>\r\n                \r\n                <img\r\n                  src={`http://localhost:5000/api/items/${item.item_id}/image`}\r\n                  alt={item.title}\r\n                  className=\"item-image\"\r\n                />\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n\r\n      <h2>List of available Items</h2>\r\n      <button onClick={toggleView} className=\"toggle-button\">\r\n        {showRecentOnly ? 'Show All Items' : 'Show Recent Items'}\r\n      </button>\r\n\r\n     \r\n      <ul className=\"item-list\">\r\n  {displayedItems.map(item => {\r\n    let loc = null;\r\n    try {\r\n      loc = JSON.parse(item.location);\r\n    } catch (e) {\r\n      loc = null;\r\n    }\r\n\r\n    const isCompleted = item.status === 'completed';\r\n\r\n    return (\r\n      <li key={item.id} className={`item-card ${isCompleted ? 'inactive' : ''}`}>\r\n        <h3>{item.title}</h3>\r\n        <p>{item.description}</p>\r\n        <p><strong>Exchange Conditions:</strong> {item.exchange_condition}</p>\r\n        <p><strong>Posted by:</strong> {item.poster_name}</p>\r\n        <p><strong>Status:</strong> {isCompleted ? 'âœ… Completed' : 'ðŸŸ¢ Active'}</p>\r\n        <img\r\n          src={`http://localhost:5000/api/items/${item.id}/image`}\r\n          alt={item.title}\r\n          className=\"item-image\"\r\n        />\r\n        {loc && (\r\n          <div className=\"item-map\">\r\n            <iframe\r\n              width=\"100%\"\r\n              height=\"200\"\r\n              frameBorder=\"0\"\r\n              style={{ border: 0 }}\r\n              src={`https://www.google.com/maps?q=${loc.lat},${loc.lng}&hl=es;z=14&output=embed`}\r\n              allowFullScreen\r\n              title=\"Item Location\"\r\n            ></iframe>\r\n          </div>\r\n        )}\r\n        {userId !== item.user_id && !isCompleted && (\r\n          <button\r\n            className=\"messages-button\"\r\n            onClick={() => navigate(`/messages/${item.id}/${item.user_id}`)}\r\n          >\r\n            Message Owner\r\n          </button>\r\n        )}\r\n      </li>\r\n    );\r\n  })}\r\n</ul>\r\n\r\n      <h2>Post for Re-Use</h2>\r\n      {messages.text && (\r\n        <div className={`messages ${messages.type}`}>\r\n          {messages.text}\r\n        </div>\r\n      )}\r\n\r\n      {userId && (\r\n        <form onSubmit={handleSubmit} className=\"item-form\" encType=\"multipart/form-data\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Item Name\"\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n            required\r\n          />\r\n          <textarea\r\n            placeholder=\"Item Description\"\r\n            value={description}\r\n            onChange={(e) => setDescription(e.target.value)}\r\n            required\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Exchange Conditions\"\r\n            value={exchangeCondition}\r\n            onChange={(e) => setExchangeCondition(e.target.value)}\r\n            required\r\n          />\r\n          <select value={category} onChange={(e) => setCategory(e.target.value)} required>\r\n            <option value=\"electronics\">Electronics</option>\r\n            <option value=\"clothes\">Clothing</option>\r\n            <option value=\"textbook\">Textbooks</option>\r\n            <option value=\"furniture\">furniture</option>\r\n          </select>\r\n          <label>Select Location on Map:</label>\r\n          <MapPicker setLocation={setLocation} />\r\n          <input\r\n            type=\"file\"\r\n            accept=\"image/*\"\r\n            onChange={handleImageChange}\r\n            required\r\n          />\r\n          {imagePreview && (\r\n            <img src={imagePreview} alt=\"Preview\" className=\"image-preview\" />\r\n          )}\r\n          <button type=\"submit\">Post For Re-user</button>\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}