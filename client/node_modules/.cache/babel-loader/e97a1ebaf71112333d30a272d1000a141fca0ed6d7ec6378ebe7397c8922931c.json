{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';// v4 style\nimport{jwtDecode}from'jwt-decode';import MapPicker from'./MapPicker';import'../styles/ItemList.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ItemList=()=>{const[items,setItems]=useState([]);const[recommendations,setRecommendations]=useState([]);const[name,setName]=useState('');const[description,setDescription]=useState('');const[exchangeCondition,setExchangeCondition]=useState('');const[category,setCategory]=useState('electronics');const[location,setLocation]=useState(null);const[image,setImage]=useState(null);const[imagePreview,setImagePreview]=useState(null);const[userId,setUserId]=useState(null);const[messages,setMessages]=useState({type:'',text:''});const[showRecentOnly,setShowRecentOnly]=useState(false);const[searchKeyword,setSearchKeyword]=useState('');const[searchCategory,setSearchCategory]=useState('');const navigate=useNavigate();useEffect(()=>{const token=localStorage.getItem('token');if(token){try{const decoded=jwtDecode(token);setUserId(decoded.id);fetchRecommendations(decoded.interests||[]);}catch(err){console.error('Invalid token:',err);}}fetchItems();},[]);const fetchItems=async()=>{try{const response=await fetch('http://localhost:5000/api/items');const result=await response.json();setItems(result);}catch(error){console.error('Error fetching items:',error);}};const fetchRecommendations=async function(){let userInterests=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];const token=localStorage.getItem('token');if(!token)return;try{const response=await fetch('http://localhost:5001/recommendations',{method:'GET',headers:{'Authorization':\"Bearer \".concat(token)}});if(!response.ok)return;const result=await response.json();if(Array.isArray(result.items)){const uniqueItems=Array.from(new Map(result.items.map(item=>[item.item_id,item])).values());const filteredItems=uniqueItems.filter(item=>userInterests.includes(item.category));setRecommendations(filteredItems.length>0?filteredItems:uniqueItems);}}catch(error){console.error('Error fetching recommendations:',error);}};const handleImageChange=e=>{const file=e.target.files[0];setImage(file);if(file){const reader=new FileReader();reader.onloadend=()=>{setImagePreview(reader.result);};reader.readAsDataURL(file);}else{setImagePreview(null);}};const handleSubmit=async e=>{e.preventDefault();const token=localStorage.getItem('token');if(!token||!userId||!location)return;const formDataToSend=new FormData();formDataToSend.append('title',name);formDataToSend.append('description',description);formDataToSend.append('location',JSON.stringify(location));formDataToSend.append('image',image);formDataToSend.append('exchangeCondition',exchangeCondition);formDataToSend.append('category',category);try{const response=await fetch('http://localhost:5000/api/items',{method:'POST',headers:{Authorization:\"Bearer \".concat(token)},body:formDataToSend});const result=await response.json();if(response.ok){setMessages({type:'success',text:result.message||'Item posted successfully!'});setName('');setDescription('');setExchangeCondition('');setCategory('electronics');setLocation(null);setImage(null);setImagePreview(null);fetchItems();}else{setMessages({type:'error',text:result.message||'Failed to post item.'});}}catch(error){setMessages({type:'error',text:'An error occurred while posting the item.'});}};const toggleView=()=>{setShowRecentOnly(!showRecentOnly);};const filteredItems=items.filter(item=>{const matchesKeyword=item.title.toLowerCase().includes(searchKeyword.toLowerCase())||item.description.toLowerCase().includes(searchKeyword.toLowerCase());const matchesCategory=searchCategory===''||item.category===searchCategory;return matchesKeyword&&matchesCategory;});const displayedItems=showRecentOnly?filteredItems.slice(0,5):[...filteredItems].sort((a,b)=>a.category.localeCompare(b.category));return/*#__PURE__*/_jsxs(\"div\",{className:\"items-page\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"content-panel\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"item-list-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-bar\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by keyword...\",value:searchKeyword,onChange:e=>setSearchKeyword(e.target.value)}),/*#__PURE__*/_jsxs(\"select\",{value:searchCategory,onChange:e=>setSearchCategory(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Categories\"}),/*#__PURE__*/_jsx(\"option\",{value:\"electronics\",children:\"Electronics\"}),/*#__PURE__*/_jsx(\"option\",{value:\"clothes\",children:\"Clothes\"}),/*#__PURE__*/_jsx(\"option\",{value:\"textbook\",children:\"Textbooks\"}),/*#__PURE__*/_jsx(\"option\",{value:\"furniture\",children:\"Furniture\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleView,className:\"toggle-button\",children:showRecentOnly?'Show All Items':'Show Recent Items'}),/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"List of available Items\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"item-list\",children:displayedItems.map(item=>{let loc=null;try{loc=JSON.parse(item.location);}catch(e){loc=null;}const isNotAvailable=item.status==='not available';return/*#__PURE__*/_jsxs(\"li\",{className:\"item-card \".concat(isNotAvailable?'inactive':''),children:[/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:5000/api/items/\".concat(item.id,\"/image\"),alt:item.title,className:\"item-image\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:item.title}),/*#__PURE__*/_jsx(\"p\",{children:item.description}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Exchange Conditions:\"}),\" \",item.exchange_condition]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Posted by:\"}),\" \",item.poster_name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"status-line\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"status-dot \".concat(isNotAvailable?'inactive':'')}),isNotAvailable?'Not Available':'Active']}),loc&&/*#__PURE__*/_jsx(\"div\",{className:\"item-map\",children:/*#__PURE__*/_jsx(\"iframe\",{width:\"100%\",height:\"200\",frameBorder:\"0\",style:{border:0},src:\"https://www.google.com/maps?q=\".concat(loc.lat,\",\").concat(loc.lng,\"&hl=es;z=14&output=embed\"),allowFullScreen:true,title:\"Item Location\"})}),userId!==item.user_id&&!isNotAvailable&&/*#__PURE__*/_jsx(\"button\",{className:\"messages-button\",onClick:()=>navigate(\"/messages/\".concat(item.id,\"/\").concat(item.user_id)),children:\"Message Owner\"})]})]},item.id);})}),/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Post for Re-Use\"}),messages.text&&/*#__PURE__*/_jsx(\"div\",{className:\"messages \".concat(messages.type),children:messages.text}),userId&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"item-form\",encType:\"multipart/form-data\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Item Name\",value:name,onChange:e=>setName(e.target.value),required:true}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Item Description\",value:description,onChange:e=>setDescription(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Exchange Conditions\",value:exchangeCondition,onChange:e=>setExchangeCondition(e.target.value),required:true}),/*#__PURE__*/_jsxs(\"select\",{value:category,onChange:e=>setCategory(e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"electronics\",children:\"Electronics\"}),/*#__PURE__*/_jsx(\"option\",{value:\"clothes\",children:\"Clothing\"}),/*#__PURE__*/_jsx(\"option\",{value:\"textbook\",children:\"Textbooks\"}),/*#__PURE__*/_jsx(\"option\",{value:\"furniture\",children:\"Furniture\"})]}),/*#__PURE__*/_jsx(\"label\",{children:\"Select Location on Map:\"}),/*#__PURE__*/_jsx(MapPicker,{setLocation:setLocation}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleImageChange,required:true}),imagePreview&&/*#__PURE__*/_jsx(\"img\",{src:imagePreview,alt:\"Preview\",className:\"image-preview\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Post For Re-use\"})]})]})}),/*#__PURE__*/_jsxs(\"aside\",{className:\"recommendations-panel sticky\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Recommended for You\"}),/*#__PURE__*/_jsx(\"div\",{className:\"recommendations-scroll\",children:recommendations.length===0?/*#__PURE__*/_jsx(\"p\",{style:{color:'#777',fontSize:'12px'},children:\"No recommendations yet.\"}):recommendations.map(rec=>/*#__PURE__*/_jsxs(\"div\",{className:\"recommendation-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:5000/api/items/\".concat(rec.item_id,\"/image\"),alt:rec.title}),/*#__PURE__*/_jsx(\"h3\",{children:rec.title}),/*#__PURE__*/_jsx(\"p\",{children:rec.description})]},rec.item_id))})]})]});};export default ItemList;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jwtDecode","MapPicker","jsx","_jsx","jsxs","_jsxs","ItemList","items","setItems","recommendations","setRecommendations","name","setName","description","setDescription","exchangeCondition","setExchangeCondition","category","setCategory","location","setLocation","image","setImage","imagePreview","setImagePreview","userId","setUserId","messages","setMessages","type","text","showRecentOnly","setShowRecentOnly","searchKeyword","setSearchKeyword","searchCategory","setSearchCategory","navigate","token","localStorage","getItem","decoded","id","fetchRecommendations","interests","err","console","error","fetchItems","response","fetch","result","json","userInterests","arguments","length","undefined","method","headers","concat","ok","Array","isArray","uniqueItems","from","Map","map","item","item_id","values","filteredItems","filter","includes","handleImageChange","e","file","target","files","reader","FileReader","onloadend","readAsDataURL","handleSubmit","preventDefault","formDataToSend","FormData","append","JSON","stringify","Authorization","body","message","toggleView","matchesKeyword","title","toLowerCase","matchesCategory","displayedItems","slice","sort","a","b","localeCompare","className","children","placeholder","value","onChange","onClick","loc","parse","isNotAvailable","status","src","alt","exchange_condition","poster_name","width","height","frameBorder","style","border","lat","lng","allowFullScreen","user_id","onSubmit","encType","required","accept","color","fontSize","rec"],"sources":["C:/Users/dericks.MIDMUNIC/Documents/ReUseCampusHub/client/src/components/ItemList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n// v4 style\r\nimport { jwtDecode } from 'jwt-decode';\r\nimport MapPicker from './MapPicker';\r\nimport '../styles/ItemList.css';\r\n\r\nconst ItemList = () => {\r\n  const [items, setItems] = useState([]);\r\n  const [recommendations, setRecommendations] = useState([]);\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [exchangeCondition, setExchangeCondition] = useState('');\r\n  const [category, setCategory] = useState('electronics');\r\n  const [location, setLocation] = useState(null);\r\n  const [image, setImage] = useState(null);\r\n  const [imagePreview, setImagePreview] = useState(null);\r\n  const [userId, setUserId] = useState(null);\r\n  const [messages, setMessages] = useState({ type: '', text: '' });\r\n  const [showRecentOnly, setShowRecentOnly] = useState(false);\r\n  const [searchKeyword, setSearchKeyword] = useState('');\r\n  const [searchCategory, setSearchCategory] = useState('');\r\n\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      try {\r\n        const decoded = jwtDecode(token);\r\n        setUserId(decoded.id);\r\n        fetchRecommendations(decoded.interests || []);\r\n      } catch (err) {\r\n        console.error('Invalid token:', err);\r\n      }\r\n    }\r\n    fetchItems();\r\n  }, []);\r\n\r\n  const fetchItems = async () => {\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/items');\r\n      const result = await response.json();\r\n      setItems(result);\r\n    } catch (error) {\r\n      console.error('Error fetching items:', error);\r\n    }\r\n  };\r\n\r\n  const fetchRecommendations = async (userInterests = []) => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) return;\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:5001/recommendations', {\r\n        method: 'GET',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n        },\r\n      });\r\n\r\n      if (!response.ok) return;\r\n      const result = await response.json();\r\n\r\n      if (Array.isArray(result.items)) {\r\n        const uniqueItems = Array.from(new Map(result.items.map(item => [item.item_id, item])).values());\r\n        const filteredItems = uniqueItems.filter(item => userInterests.includes(item.category));\r\n        setRecommendations(filteredItems.length > 0 ? filteredItems : uniqueItems);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching recommendations:', error);\r\n    }\r\n  };\r\n\r\n  const handleImageChange = (e) => {\r\n    const file = e.target.files[0];\r\n    setImage(file);\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        setImagePreview(reader.result);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    } else {\r\n      setImagePreview(null);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const token = localStorage.getItem('token');\r\n    if (!token || !userId || !location) return;\r\n\r\n    const formDataToSend = new FormData();\r\n    formDataToSend.append('title', name);\r\n    formDataToSend.append('description', description);\r\n    formDataToSend.append('location', JSON.stringify(location));\r\n    formDataToSend.append('image', image);\r\n    formDataToSend.append('exchangeCondition', exchangeCondition);\r\n    formDataToSend.append('category', category);\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/items', {\r\n        method: 'POST',\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: formDataToSend,\r\n      });\r\n      const result = await response.json();\r\n      if (response.ok) {\r\n        setMessages({ type: 'success', text: result.message || 'Item posted successfully!' });\r\n        setName('');\r\n        setDescription('');\r\n        setExchangeCondition('');\r\n        setCategory('electronics');\r\n        setLocation(null);\r\n        setImage(null);\r\n        setImagePreview(null);\r\n        fetchItems();\r\n      } else {\r\n        setMessages({ type: 'error', text: result.message || 'Failed to post item.' });\r\n      }\r\n    } catch (error) {\r\n      setMessages({ type: 'error', text: 'An error occurred while posting the item.' });\r\n    }\r\n  };\r\n\r\n  const toggleView = () => {\r\n    setShowRecentOnly(!showRecentOnly);\r\n  };\r\n\r\n  const filteredItems = items.filter(item => {\r\n    const matchesKeyword = item.title.toLowerCase().includes(searchKeyword.toLowerCase()) ||\r\n      item.description.toLowerCase().includes(searchKeyword.toLowerCase());\r\n    const matchesCategory = searchCategory === '' || item.category === searchCategory;\r\n    return matchesKeyword && matchesCategory;\r\n  });\r\n\r\n  const displayedItems = showRecentOnly\r\n    ? filteredItems.slice(0, 5)\r\n    : [...filteredItems].sort((a, b) => a.category.localeCompare(b.category));\r\n\r\n  \r\nreturn (\r\n  <div className=\"items-page\">\r\n    {/* LEFT COLUMN: Search + List */}\r\n    <div className=\"content-panel\">\r\n      <div className=\"item-list-container\">\r\n        {/* Search row */}\r\n        <div className=\"search-bar\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search by keyword...\"\r\n            value={searchKeyword}\r\n            onChange={(e) => setSearchKeyword(e.target.value)}\r\n          />\r\n          <select\r\n            value={searchCategory}\r\n            onChange={(e) => setSearchCategory(e.target.value)}\r\n          >\r\n            <option value=\"\">All Categories</option>\r\n            <option value=\"electronics\">Electronics</option>\r\n            <option value=\"clothes\">Clothes</option>\r\n            <option value=\"textbook\">Textbooks</option>\r\n            <option value=\"furniture\">Furniture</option>\r\n          </select>\r\n        </div>\r\n\r\n        {/* Toggle button */}\r\n        <button onClick={toggleView} className=\"toggle-button\">\r\n          {showRecentOnly ? 'Show All Items' : 'Show Recent Items'}\r\n        </button>\r\n\r\n        {/* Item list title */}\r\n        <h2 className=\"section-title\">List of available Items</h2>\r\n\r\n        {/* Item list */}\r\n        <ul className=\"item-list\">\r\n          {displayedItems.map((item) => {\r\n            let loc = null;\r\n            try {\r\n              loc = JSON.parse(item.location);\r\n            } catch (e) {\r\n              loc = null;\r\n            }\r\n            const isNotAvailable = item.status === 'not available';\r\n            return (\r\n              <li\r\n                key={item.id}\r\n                className={`item-card ${isNotAvailable ? 'inactive' : ''}`}\r\n              >\r\n                {/* Optional image (kept as in your code) */}\r\n                <img\r\n                  src={`http://localhost:5000/api/items/${item.id}/image`}\r\n                  alt={item.title}\r\n                  className=\"item-image\"\r\n                />\r\n\r\n                {/* Text content */}\r\n                <div className=\"item-content\">\r\n                  <h3>{item.title}</h3>\r\n\r\n                  <p>{item.description}</p>\r\n                  <p>\r\n                    <strong>Exchange Conditions:</strong> {item.exchange_condition}\r\n                  </p>\r\n                  <p>\r\n                    <strong>Posted by:</strong> {item.poster_name}\r\n                  </p>\r\n\r\n                  {/* Status line with dot like screenshot */}\r\n                  <p className=\"status-line\">\r\n                    <strong>Status:</strong>\r\n                    <span\r\n                      className={`status-dot ${\r\n                        isNotAvailable ? 'inactive' : ''\r\n                      }`}\r\n                    />\r\n                    {isNotAvailable ? 'Not Available' : 'Active'}\r\n                  </p>\r\n\r\n                  {/* Map (optional) */}\r\n                  {loc && (\r\n                    <div className=\"item-map\">\r\n                      <iframe\r\n                        width=\"100%\"\r\n                        height=\"200\"\r\n                        frameBorder=\"0\"\r\n                        style={{ border: 0 }}\r\n                        src={`https://www.google.com/maps?q=${loc.lat},${loc.lng}&hl=es;z=14&output=embed`}\r\n                        allowFullScreen\r\n                        title=\"Item Location\"\r\n                      ></iframe>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Message button */}\r\n                  {userId !== item.user_id && !isNotAvailable && (\r\n                    <button\r\n                      className=\"messages-button\"\r\n                      onClick={() => navigate(`/messages/${item.id}/${item.user_id}`)}\r\n                    >\r\n                      Message Owner\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n\r\n        {/* Post section (unchanged) */}\r\n        <h2 className=\"section-title\">Post for Re-Use</h2>\r\n        {messages.text && (\r\n          <div className={`messages ${messages.type}`}>\r\n            {messages.text}\r\n          </div>\r\n        )}\r\n        {userId && (\r\n          <form onSubmit={handleSubmit} className=\"item-form\" encType=\"multipart/form-data\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Item Name\"\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n              required\r\n            />\r\n            <textarea\r\n              placeholder=\"Item Description\"\r\n              value={description}\r\n              onChange={(e) => setDescription(e.target.value)}\r\n              required\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Exchange Conditions\"\r\n              value={exchangeCondition}\r\n              onChange={(e) => setExchangeCondition(e.target.value)}\r\n              required\r\n            />\r\n            <select value={category} onChange={(e) => setCategory(e.target.value)} required>\r\n              <option value=\"electronics\">Electronics</option>\r\n              <option value=\"clothes\">Clothing</option>\r\n              <option value=\"textbook\">Textbooks</option>\r\n              <option value=\"furniture\">Furniture</option>\r\n            </select>\r\n\r\n            <label>Select Location on Map:</label>\r\n            <MapPicker setLocation={setLocation} />\r\n\r\n            <input type=\"file\" accept=\"image/*\" onChange={handleImageChange} required />\r\n            {imagePreview && (\r\n              <img src={imagePreview} alt=\"Preview\" className=\"image-preview\" />\r\n            )}\r\n            <button type=\"submit\">Post For Re-use</button>\r\n          </form>\r\n        )}\r\n      </div>\r\n    </div>\r\n\r\n    {/* RIGHT COLUMN: Recommendations */}\r\n   \r\n\r\n\r\n<aside className=\"recommendations-panel sticky\">\r\n  <h2>Recommended for You</h2>\r\n  <div className=\"recommendations-scroll\">\r\n    {recommendations.length === 0 ? (\r\n      <p style={{ color: '#777', fontSize: '12px' }}>No recommendations yet.</p>\r\n    ) : (\r\n      recommendations.map((rec) => (\r\n        <div key={rec.item_id} className=\"recommendation-card\">\r\n          <img\r\n            src={`http://localhost:5000/api/items/${rec.item_id}/image`}\r\n            alt={rec.title}\r\n          />\r\n          <h3>{rec.title}</h3>\r\n          <p>{rec.description}</p>\r\n        </div>\r\n      ))\r\n    )}\r\n  </div>\r\n</aside>\r\n\r\n\r\n\r\n  </div>\r\n);\r\n};\r\n\r\nexport default ItemList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}