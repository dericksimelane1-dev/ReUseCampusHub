{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{BarChart,Bar,XAxis,YAxis,Tooltip,CartesianGrid,LineChart,Line,Legend,ResponsiveContainer}from'recharts';import'../styles/Analysis.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Analysis=()=>{const navigate=useNavigate();const[metrics,setMetrics]=useState({});const[listings,setListings]=useState([]);useEffect(()=>{const token=localStorage.getItem('token');if(token!=='admin-token'){navigate('/unauthorized');return;}fetch('http://localhost:5000/api/admin/dashboard').then(res=>res.json()).then(data=>{setMetrics(data.metrics);setListings(data.listings);}).catch(err=>console.error('Error fetching dashboard data:',err));},[navigate]);const chartData=[{name:'Total Users',value:metrics.totalUsers||0},{name:'Total Items',value:metrics.totalItems||0},{name:'Total Exchanges',value:metrics.totalExchanges||0}];return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Analysis\"}),/*#__PURE__*/_jsxs(\"section\",{className:\"metrics\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Platform Metrics\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total Users:\"}),\" \",metrics.totalUsers]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total Items Listed:\"}),\" \",metrics.totalItems]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total Exchanges:\"}),\" \",metrics.totalExchanges]})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"charts-container\",style:{display:'flex',gap:'40px',flexWrap:'wrap'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,minWidth:'300px',height:'300px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Metrics Overview (Bar)\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(BarChart,{data:chartData,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"name\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"value\",fill:\"#4CAF50\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,minWidth:'300px',height:'300px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Metrics Trend (Line)\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(LineChart,{data:chartData,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"name\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"value\",stroke:\"#FF5733\",strokeWidth:3})]})})]})]})]});};export default Analysis;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","BarChart","Bar","XAxis","YAxis","Tooltip","CartesianGrid","LineChart","Line","Legend","ResponsiveContainer","jsx","_jsx","jsxs","_jsxs","Analysis","navigate","metrics","setMetrics","listings","setListings","token","localStorage","getItem","fetch","then","res","json","data","catch","err","console","error","chartData","name","value","totalUsers","totalItems","totalExchanges","className","children","style","display","gap","flexWrap","flex","minWidth","height","width","strokeDasharray","dataKey","fill","type","stroke","strokeWidth"],"sources":["C:/Users/dericks.MIDMUNIC/Documents/ReUseCampusHub/client/src/components/Analysis.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  Tooltip,\n  CartesianGrid,\n  LineChart,\n  Line,\n  Legend,\n  ResponsiveContainer\n} from 'recharts';\nimport '../styles/Analysis.css';\n\nconst Analysis = () => {\n  const navigate = useNavigate();\n  const [metrics, setMetrics] = useState({});\n  const [listings, setListings] = useState([]);\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token !== 'admin-token') {\n      navigate('/unauthorized');\n      return;\n    }\n\n    fetch('http://localhost:5000/api/admin/dashboard')\n      .then(res => res.json())\n      .then(data => {\n        setMetrics(data.metrics);\n        setListings(data.listings);\n      })\n      .catch(err => console.error('Error fetching dashboard data:', err));\n  }, [navigate]);\n\n  const chartData = [\n    { name: 'Total Users', value: metrics.totalUsers || 0 },\n    { name: 'Total Items', value: metrics.totalItems || 0 },\n    { name: 'Total Exchanges', value: metrics.totalExchanges || 0 }\n  ];\n\n  return (\n    <div className=\"dashboard-container\">\n      <h1>Analysis</h1>\n\n      {/* Metrics List */}\n      <section className=\"metrics\">\n        <h2>Platform Metrics</h2>\n        <ul>\n          <li><strong>Total Users:</strong> {metrics.totalUsers}</li>\n          <li><strong>Total Items Listed:</strong> {metrics.totalItems}</li>\n          <li><strong>Total Exchanges:</strong> {metrics.totalExchanges}</li>\n        </ul>\n      </section>\n\n      {/* Charts Side by Side */}\n      <section className=\"charts-container\" style={{ display: 'flex', gap: '40px', flexWrap: 'wrap' }}>\n        {/* Responsive Bar Chart */}\n        <div style={{ flex: 1, minWidth: '300px', height: '300px' }}>\n          <h2>Metrics Overview (Bar)</h2>\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <BarChart data={chartData}>\n              <CartesianGrid strokeDasharray=\"3 3\" />\n              <XAxis dataKey=\"name\" />\n              <YAxis />\n              <Tooltip />\n              <Bar dataKey=\"value\" fill=\"#4CAF50\" />\n            </BarChart>\n          </ResponsiveContainer>\n        </div>\n\n        {/* Responsive Line Chart */}\n        <div style={{ flex: 1, minWidth: '300px', height: '300px' }}>\n          <h2>Metrics Trend (Line)</h2>\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <LineChart data={chartData}>\n              <CartesianGrid strokeDasharray=\"3 3\" />\n              <XAxis dataKey=\"name\" />\n              <YAxis />\n              <Tooltip />\n              <Legend />\n              <Line type=\"monotone\" dataKey=\"value\" stroke=\"#FF5733\" strokeWidth={3} />\n            </LineChart>\n          </ResponsiveContainer>\n        </div>\n      </section>\n    </div>\n  );\n};\n\nexport default Analysis;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}