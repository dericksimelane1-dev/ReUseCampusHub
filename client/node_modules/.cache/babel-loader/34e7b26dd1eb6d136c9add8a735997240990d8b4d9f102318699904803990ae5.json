{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dericks.MIDMUNIC\\\\Documents\\\\ReUseCampusHub\\\\client\\\\src\\\\components\\\\ExchangeActions.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction ExchangeActions({\n  itemId,\n  requesterId,\n  userRole\n}) {\n  _s();\n  const [status, setStatus] = useState('');\n  const handleResponse = async response => {\n    try {\n      // Step 1: Send response to backend\n      await axios.post('http://localhost:5000/api/exchange/response', {\n        itemId,\n        requesterId,\n        response\n      });\n\n      // Step 2: Auto-update status in DB\n      const updateRes = await axios.put(`http://localhost:5000/api/exchange/status/auto/${itemId}`);\n      setStatus(updateRes.data.status);\n      toast.success(`Status updated: ${updateRes.data.status}`);\n    } catch (err) {\n      console.error('Error handling exchange action:', err);\n      toast.error('Something went wrong. Please try again.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"exchange-actions\",\n    children: [userRole === 'initiator' && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => handleResponse('yes'),\n      children: \"Exchange\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }, this), userRole === 'receiver' && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleResponse('yes'),\n        children: \"Approve\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleResponse('received'),\n        children: \"Received\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), status && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Current Status: \", status]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 18\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\n_s(ExchangeActions, \"KPYrX9LquK4QzAleGVocmTfvvco=\");\n_c = ExchangeActions;\nexport default ExchangeActions;\nvar _c;\n$RefreshReg$(_c, \"ExchangeActions\");","map":{"version":3,"names":["React","useState","axios","ToastContainer","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","ExchangeActions","itemId","requesterId","userRole","_s","status","setStatus","handleResponse","response","post","updateRes","put","data","success","err","console","error","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/dericks.MIDMUNIC/Documents/ReUseCampusHub/client/src/components/ExchangeActions.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nfunction ExchangeActions({ itemId, requesterId, userRole }) {\r\n  const [status, setStatus] = useState('');\r\n\r\n  const handleResponse = async (response) => {\r\n    try {\r\n      // Step 1: Send response to backend\r\n      await axios.post('http://localhost:5000/api/exchange/response', {\r\n        itemId,\r\n        requesterId,\r\n        response\r\n      });\r\n\r\n      // Step 2: Auto-update status in DB\r\n      const updateRes = await axios.put(`http://localhost:5000/api/exchange/status/auto/${itemId}`);\r\n      setStatus(updateRes.data.status);\r\n\r\n      toast.success(`Status updated: ${updateRes.data.status}`);\r\n    } catch (err) {\r\n      console.error('Error handling exchange action:', err);\r\n      toast.error('Something went wrong. Please try again.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"exchange-actions\">\r\n      {userRole === 'initiator' && (\r\n        <button onClick={() => handleResponse('yes')}>Exchange</button>\r\n      )}\r\n      {userRole === 'receiver' && (\r\n        <>\r\n          <button onClick={() => handleResponse('yes')}>Approve</button>\r\n          <button onClick={() => handleResponse('received')}>Received</button>\r\n        </>\r\n      )}\r\n      {status && <p>Current Status: {status}</p>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ExchangeActions;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,cAAc,EAAEC,KAAK,QAAQ,gBAAgB;AACtD,OAAO,uCAAuC;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE/C,SAASC,eAAeA,CAAC;EAAEC,MAAM;EAAEC,WAAW;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAC1D,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAExC,MAAMe,cAAc,GAAG,MAAOC,QAAQ,IAAK;IACzC,IAAI;MACF;MACA,MAAMf,KAAK,CAACgB,IAAI,CAAC,6CAA6C,EAAE;QAC9DR,MAAM;QACNC,WAAW;QACXM;MACF,CAAC,CAAC;;MAEF;MACA,MAAME,SAAS,GAAG,MAAMjB,KAAK,CAACkB,GAAG,CAAC,kDAAkDV,MAAM,EAAE,CAAC;MAC7FK,SAAS,CAACI,SAAS,CAACE,IAAI,CAACP,MAAM,CAAC;MAEhCV,KAAK,CAACkB,OAAO,CAAC,mBAAmBH,SAAS,CAACE,IAAI,CAACP,MAAM,EAAE,CAAC;IAC3D,CAAC,CAAC,OAAOS,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,iCAAiC,EAAEF,GAAG,CAAC;MACrDnB,KAAK,CAACqB,KAAK,CAAC,yCAAyC,CAAC;IACxD;EACF,CAAC;EAED,oBACEnB,OAAA;IAAKoB,SAAS,EAAC,kBAAkB;IAAAC,QAAA,GAC9Bf,QAAQ,KAAK,WAAW,iBACvBN,OAAA;MAAQsB,OAAO,EAAEA,CAAA,KAAMZ,cAAc,CAAC,KAAK,CAAE;MAAAW,QAAA,EAAC;IAAQ;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAC/D,EACApB,QAAQ,KAAK,UAAU,iBACtBN,OAAA,CAAAE,SAAA;MAAAmB,QAAA,gBACErB,OAAA;QAAQsB,OAAO,EAAEA,CAAA,KAAMZ,cAAc,CAAC,KAAK,CAAE;QAAAW,QAAA,EAAC;MAAO;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAC9D1B,OAAA;QAAQsB,OAAO,EAAEA,CAAA,KAAMZ,cAAc,CAAC,UAAU,CAAE;QAAAW,QAAA,EAAC;MAAQ;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA,eACpE,CACH,EACAlB,MAAM,iBAAIR,OAAA;MAAAqB,QAAA,GAAG,kBAAgB,EAACb,MAAM;IAAA;MAAAe,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACvC,CAAC;AAEV;AAACnB,EAAA,CArCQJ,eAAe;AAAAwB,EAAA,GAAfxB,eAAe;AAuCxB,eAAeA,eAAe;AAAC,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}