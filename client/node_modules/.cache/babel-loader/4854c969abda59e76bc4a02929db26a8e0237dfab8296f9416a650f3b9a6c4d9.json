{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import'../styles/ManageUsers.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ManageUsers=()=>{const[users,setUsers]=useState([]);const[searchTerm,setSearchTerm]=useState('');const columns=['full_name','email','phone_number','location','status'];useEffect(()=>{fetchUsers();},[]);const fetchUsers=async()=>{try{const response=await axios.get('http://localhost:5000/api/users');setUsers(response.data);}catch(error){console.error('Error fetching users:',error);}};const handleView=email=>alert(\"View user \".concat(email));const handleEdit=email=>alert(\"Edit user \".concat(email));const handleDelete=async email=>{if(window.confirm('Are you sure you want to delete this user?')){try{await axios.delete(\"http://localhost:5000/api/users/\".concat(email));fetchUsers();}catch(error){console.error('Error deleting user:',error);}}};const handleBlock=async email=>{try{await axios.put(\"http://localhost:5000/api/users/\".concat(email,\"/block\"));fetchUsers();}catch(error){console.error('Error blocking user:',error);}};const handleUnblock=async email=>{try{await axios.put(\"http://localhost:5000/api/users/\".concat(email,\"/unblock\"));fetchUsers();}catch(error){console.error('Error unblocking user:',error);}};const filteredUsers=users.filter(user=>Object.values(user).some(value=>typeof value==='string'&&value.toLowerCase().includes(searchTerm.toLowerCase())));return/*#__PURE__*/_jsxs(\"div\",{className:\"manage-users-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Manage Users\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search users...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"search-input\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"user-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[columns.map(col=>/*#__PURE__*/_jsx(\"th\",{children:col},col)),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredUsers.map(user=>/*#__PURE__*/_jsxs(\"tr\",{children:[columns.map(col=>/*#__PURE__*/_jsx(\"td\",{children:col==='location'&&user[col]?\"\".concat(user[col].lat,\", \").concat(user[col].lng):typeof user[col]==='object'&&user[col]!==null?JSON.stringify(user[col]):user[col]},\"\".concat(user.email,\"-\").concat(col))),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleView(user.email),children:\"View\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(user.email),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(user.email),children:\"Delete\"}),user.status==='active'?/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleBlock(user.email),children:\"Block\"}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleUnblock(user.email),children:\"Unblock\"})]})]},user.email))})]})]});};export default ManageUsers;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","ManageUsers","users","setUsers","searchTerm","setSearchTerm","columns","fetchUsers","response","get","data","error","console","handleView","email","alert","concat","handleEdit","handleDelete","window","confirm","delete","handleBlock","put","handleUnblock","filteredUsers","filter","user","Object","values","some","value","toLowerCase","includes","className","children","type","placeholder","onChange","e","target","map","col","lat","lng","JSON","stringify","onClick","status"],"sources":["C:/Users/dericks.MIDMUNIC/Documents/ReUseCampusHub/client/src/components/ManageUsers.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport '../styles/ManageUsers.css';\r\n\r\nconst ManageUsers = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n\r\n  const columns = ['full_name', 'email', 'phone_number', 'location','status'];\r\n\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:5000/api/users');\r\n      setUsers(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching users:', error);\r\n    }\r\n  };\r\n\r\n  const handleView = (email) => alert(`View user ${email}`);\r\n  const handleEdit = (email) => alert(`Edit user ${email}`);\r\n\r\n  const handleDelete = async (email) => {\r\n    if (window.confirm('Are you sure you want to delete this user?')) {\r\n      try {\r\n        await axios.delete(`http://localhost:5000/api/users/${email}`);\r\n        fetchUsers();\r\n      } catch (error) {\r\n        console.error('Error deleting user:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleBlock = async (email) => {\r\n    try {\r\n      await axios.put(`http://localhost:5000/api/users/${email}/block`);\r\n      fetchUsers();\r\n    } catch (error) {\r\n      console.error('Error blocking user:', error);\r\n    }\r\n  };\r\n\r\n  const handleUnblock = async (email) => {\r\n    try {\r\n      await axios.put(`http://localhost:5000/api/users/${email}/unblock`);\r\n      fetchUsers();\r\n    } catch (error) {\r\n      console.error('Error unblocking user:', error);\r\n    }\r\n  };\r\n\r\n  const filteredUsers = users.filter((user) =>\r\n    Object.values(user).some(\r\n      (value) =>\r\n        typeof value === 'string' &&\r\n        value.toLowerCase().includes(searchTerm.toLowerCase())\r\n    )\r\n  );\r\n\r\n  return (\r\n    <div className=\"manage-users-container\">\r\n      <h2>Manage Users</h2>\r\n\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Search users...\"\r\n        value={searchTerm}\r\n        onChange={(e) => setSearchTerm(e.target.value)}\r\n        className=\"search-input\"\r\n      />\r\n\r\n      <table className=\"user-table\">\r\n        <thead>\r\n          <tr>\r\n            {columns.map((col) => (\r\n              <th key={col}>{col}</th>\r\n            ))}\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {filteredUsers.map((user) => (\r\n            <tr key={user.email}>\r\n              {columns.map((col) => (\r\n                <td key={`${user.email}-${col}`}>\r\n                  {col === 'location' && user[col]\r\n                    ? `${user[col].lat}, ${user[col].lng}`\r\n                    : typeof user[col] === 'object' && user[col] !== null\r\n                    ? JSON.stringify(user[col])\r\n                    : user[col]}\r\n                </td>\r\n              ))}\r\n              <td>\r\n                <button onClick={() => handleView(user.email)}>View</button>\r\n                <button onClick={() => handleEdit(user.email)}>Edit</button>\r\n                <button onClick={() => handleDelete(user.email)}>Delete</button>\r\n                {user.status === 'active' ? (\r\n                  <button onClick={() => handleBlock(user.email)}>Block</button>\r\n                ) : (\r\n                  <button onClick={() => handleUnblock(user.email)}>Unblock</button>\r\n                )}\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManageUsers;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnC,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACS,UAAU,CAAEC,aAAa,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAEhD,KAAM,CAAAW,OAAO,CAAG,CAAC,WAAW,CAAE,OAAO,CAAE,cAAc,CAAE,UAAU,CAAC,QAAQ,CAAC,CAE3EZ,SAAS,CAAC,IAAM,CACda,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAZ,KAAK,CAACa,GAAG,CAAC,iCAAiC,CAAC,CACnEN,QAAQ,CAACK,QAAQ,CAACE,IAAI,CAAC,CACzB,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC/C,CACF,CAAC,CAED,KAAM,CAAAE,UAAU,CAAIC,KAAK,EAAKC,KAAK,cAAAC,MAAA,CAAcF,KAAK,CAAE,CAAC,CACzD,KAAM,CAAAG,UAAU,CAAIH,KAAK,EAAKC,KAAK,cAAAC,MAAA,CAAcF,KAAK,CAAE,CAAC,CAEzD,KAAM,CAAAI,YAAY,CAAG,KAAO,CAAAJ,KAAK,EAAK,CACpC,GAAIK,MAAM,CAACC,OAAO,CAAC,4CAA4C,CAAC,CAAE,CAChE,GAAI,CACF,KAAM,CAAAxB,KAAK,CAACyB,MAAM,oCAAAL,MAAA,CAAoCF,KAAK,CAAE,CAAC,CAC9DP,UAAU,CAAC,CAAC,CACd,CAAE,MAAOI,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CACF,CACF,CAAC,CAED,KAAM,CAAAW,WAAW,CAAG,KAAO,CAAAR,KAAK,EAAK,CACnC,GAAI,CACF,KAAM,CAAAlB,KAAK,CAAC2B,GAAG,oCAAAP,MAAA,CAAoCF,KAAK,UAAQ,CAAC,CACjEP,UAAU,CAAC,CAAC,CACd,CAAE,MAAOI,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CACF,CAAC,CAED,KAAM,CAAAa,aAAa,CAAG,KAAO,CAAAV,KAAK,EAAK,CACrC,GAAI,CACF,KAAM,CAAAlB,KAAK,CAAC2B,GAAG,oCAAAP,MAAA,CAAoCF,KAAK,YAAU,CAAC,CACnEP,UAAU,CAAC,CAAC,CACd,CAAE,MAAOI,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAChD,CACF,CAAC,CAED,KAAM,CAAAc,aAAa,CAAGvB,KAAK,CAACwB,MAAM,CAAEC,IAAI,EACtCC,MAAM,CAACC,MAAM,CAACF,IAAI,CAAC,CAACG,IAAI,CACrBC,KAAK,EACJ,MAAO,CAAAA,KAAK,GAAK,QAAQ,EACzBA,KAAK,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC7B,UAAU,CAAC4B,WAAW,CAAC,CAAC,CACzD,CACF,CAAC,CAED,mBACEhC,KAAA,QAAKkC,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCrC,IAAA,OAAAqC,QAAA,CAAI,cAAY,CAAI,CAAC,cAErBrC,IAAA,UACEsC,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,iBAAiB,CAC7BN,KAAK,CAAE3B,UAAW,CAClBkC,QAAQ,CAAGC,CAAC,EAAKlC,aAAa,CAACkC,CAAC,CAACC,MAAM,CAACT,KAAK,CAAE,CAC/CG,SAAS,CAAC,cAAc,CACzB,CAAC,cAEFlC,KAAA,UAAOkC,SAAS,CAAC,YAAY,CAAAC,QAAA,eAC3BrC,IAAA,UAAAqC,QAAA,cACEnC,KAAA,OAAAmC,QAAA,EACG7B,OAAO,CAACmC,GAAG,CAAEC,GAAG,eACf5C,IAAA,OAAAqC,QAAA,CAAeO,GAAG,EAATA,GAAc,CACxB,CAAC,cACF5C,IAAA,OAAAqC,QAAA,CAAI,SAAO,CAAI,CAAC,EACd,CAAC,CACA,CAAC,cACRrC,IAAA,UAAAqC,QAAA,CACGV,aAAa,CAACgB,GAAG,CAAEd,IAAI,eACtB3B,KAAA,OAAAmC,QAAA,EACG7B,OAAO,CAACmC,GAAG,CAAEC,GAAG,eACf5C,IAAA,OAAAqC,QAAA,CACGO,GAAG,GAAK,UAAU,EAAIf,IAAI,CAACe,GAAG,CAAC,IAAA1B,MAAA,CACzBW,IAAI,CAACe,GAAG,CAAC,CAACC,GAAG,OAAA3B,MAAA,CAAKW,IAAI,CAACe,GAAG,CAAC,CAACE,GAAG,EAClC,MAAO,CAAAjB,IAAI,CAACe,GAAG,CAAC,GAAK,QAAQ,EAAIf,IAAI,CAACe,GAAG,CAAC,GAAK,IAAI,CACnDG,IAAI,CAACC,SAAS,CAACnB,IAAI,CAACe,GAAG,CAAC,CAAC,CACzBf,IAAI,CAACe,GAAG,CAAC,KAAA1B,MAAA,CALHW,IAAI,CAACb,KAAK,MAAAE,MAAA,CAAI0B,GAAG,CAMzB,CACL,CAAC,cACF1C,KAAA,OAAAmC,QAAA,eACErC,IAAA,WAAQiD,OAAO,CAAEA,CAAA,GAAMlC,UAAU,CAACc,IAAI,CAACb,KAAK,CAAE,CAAAqB,QAAA,CAAC,MAAI,CAAQ,CAAC,cAC5DrC,IAAA,WAAQiD,OAAO,CAAEA,CAAA,GAAM9B,UAAU,CAACU,IAAI,CAACb,KAAK,CAAE,CAAAqB,QAAA,CAAC,MAAI,CAAQ,CAAC,cAC5DrC,IAAA,WAAQiD,OAAO,CAAEA,CAAA,GAAM7B,YAAY,CAACS,IAAI,CAACb,KAAK,CAAE,CAAAqB,QAAA,CAAC,QAAM,CAAQ,CAAC,CAC/DR,IAAI,CAACqB,MAAM,GAAK,QAAQ,cACvBlD,IAAA,WAAQiD,OAAO,CAAEA,CAAA,GAAMzB,WAAW,CAACK,IAAI,CAACb,KAAK,CAAE,CAAAqB,QAAA,CAAC,OAAK,CAAQ,CAAC,cAE9DrC,IAAA,WAAQiD,OAAO,CAAEA,CAAA,GAAMvB,aAAa,CAACG,IAAI,CAACb,KAAK,CAAE,CAAAqB,QAAA,CAAC,SAAO,CAAQ,CAClE,EACC,CAAC,GAnBER,IAAI,CAACb,KAoBV,CACL,CAAC,CACG,CAAC,EACH,CAAC,EACL,CAAC,CAEV,CAAC,CAED,cAAe,CAAAb,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}