{"ast":null,"code":"import _objectSpread from\"C:/Users/dericks.MIDMUNIC/Documents/ReUseCampusHub/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useNavigate,Link}from'react-router-dom';import{MapContainer,TileLayer,Marker,useMapEvents}from'react-leaflet';import'leaflet/dist/leaflet.css';import L from'leaflet';import'../styles/Signup.css';// Fix default marker icon issue\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";delete L.Icon.Default.prototype._getIconUrl;L.Icon.Default.mergeOptions({iconRetinaUrl:'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png',iconUrl:'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png',shadowUrl:'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png'});function LocationPicker(_ref){let{onLocationSelect}=_ref;useMapEvents({click(e){onLocationSelect(e.latlng);}});return null;}function Signup(){const[formData,setFormData]=useState({email:'',password:'',full_name:'',phone_number:'',category:'',location:null});const[error,setError]=useState('');const[success,setSuccess]=useState('');const navigate=useNavigate();const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleLocationSelect=latlng=>{setFormData(_objectSpread(_objectSpread({},formData),{},{location:latlng}));};const handleSubmit=async e=>{e.preventDefault();setError('');setSuccess('');if(!formData.location){setError('Please select your location on the map.');return;}try{const response=await fetch('http://localhost:5000/api/signup',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData)});const data=await response.json();if(!response.ok){throw new Error(data.message||'Signup failed');}setSuccess('Signup successful! Redirecting to login...');setTimeout(()=>navigate('/login'),2000);}catch(err){setError(err.message);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"signup-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"full_name\",placeholder:\"Full Name\",value:formData.full_name,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",value:formData.email,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\",value:formData.password,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phone_number\",placeholder:\"Phone Number\",value:formData.phone_number,onChange:handleChange,required:true}),/*#__PURE__*/_jsxs(\"select\",{name:\"interests\",value:formData.interests,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Your Interests\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Electronics\",children:\"Electronics\"}),/*#__PURE__*/_jsx(\"option\",{value:\"clothes\",children:\"clothes\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Textbook\",children:\"Textbooks\"}),/*#__PURE__*/_jsx(\"option\",{value:\"furniture\",children:\"furniture\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"map-section\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Select Your Location:\"}),/*#__PURE__*/_jsxs(MapContainer,{center:[-25.7697,29.4648]// Middelburg, Mpumalanga\n,zoom:13,style:{height:'300px',width:'100%'},children:[/*#__PURE__*/_jsx(TileLayer,{url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",attribution:\"\\xA9 OpenStreetMap contributors\"}),/*#__PURE__*/_jsx(LocationPicker,{onLocationSelect:handleLocationSelect}),formData.location&&/*#__PURE__*/_jsx(Marker,{position:formData.location})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Register\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),success&&/*#__PURE__*/_jsx(\"p\",{className:\"success\",children:success})]}),/*#__PURE__*/_jsx(\"div\",{className:\"signup-links\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Already have an account? Login\"})})]});}export default Signup;","map":{"version":3,"names":["React","useState","useNavigate","Link","MapContainer","TileLayer","Marker","useMapEvents","L","jsx","_jsx","jsxs","_jsxs","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","LocationPicker","_ref","onLocationSelect","click","e","latlng","Signup","formData","setFormData","email","password","full_name","phone_number","category","location","error","setError","success","setSuccess","navigate","handleChange","_objectSpread","target","name","value","handleLocationSelect","handleSubmit","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","json","ok","Error","message","setTimeout","err","className","children","onSubmit","type","placeholder","onChange","required","interests","center","zoom","style","height","width","url","attribution","position","to"],"sources":["C:/Users/dericks.MIDMUNIC/Documents/ReUseCampusHub/client/src/components/Signup.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport { MapContainer, TileLayer, Marker, useMapEvents } from 'react-leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport L from 'leaflet';\r\nimport '../styles/Signup.css';\r\n\r\n// Fix default marker icon issue\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png',\r\n  iconUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png',\r\n  shadowUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png',\r\n});\r\n\r\nfunction LocationPicker({ onLocationSelect }) {\r\n  useMapEvents({\r\n    click(e) {\r\n      onLocationSelect(e.latlng);\r\n    },\r\n  });\r\n  return null;\r\n}\r\n\r\nfunction Signup() {\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: '',\r\n    full_name: '',\r\n    phone_number: '',\r\n    category: '',\r\n    location: null,\r\n  });\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleLocationSelect = (latlng) => {\r\n    setFormData({ ...formData, location: latlng });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setSuccess('');\r\n\r\n    if (!formData.location) {\r\n      setError('Please select your location on the map.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/signup', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(formData),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.message || 'Signup failed');\r\n      }\r\n\r\n\r\n      setSuccess('Signup successful! Redirecting to login...');\r\n      setTimeout(() => navigate('/login'), 2000);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"signup-container\">\r\n      <h2>Sign Up</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          name=\"full_name\"\r\n          placeholder=\"Full Name\"\r\n          value={formData.full_name}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          placeholder=\"Email\"\r\n          value={formData.email}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          placeholder=\"Password\"\r\n          value={formData.password}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"phone_number\"\r\n          placeholder=\"Phone Number\"\r\n          value={formData.phone_number}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <select\r\n          name=\"interests\"\r\n          value={formData.interests}\r\n          onChange={handleChange}\r\n          required\r\n        >\r\n          <option value=\"\">Select Your Interests</option>\r\n          <option value=\"Electronics\">Electronics</option>\r\n          <option value=\"clothes\">clothes</option>\r\n          <option value=\"Textbook\">Textbooks</option>\r\n          <option value=\"furniture\">furniture</option>\r\n        </select>\r\n\r\n        <div className=\"map-section\">\r\n          <label>Select Your Location:</label>\r\n          <MapContainer\r\n            center={[-25.7697, 29.4648]} // Middelburg, Mpumalanga\r\n            zoom={13}\r\n            style={{ height: '300px', width: '100%' }}\r\n          >\r\n            <TileLayer\r\n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n              attribution=\"&copy; OpenStreetMap contributors\"\r\n            />\r\n            <LocationPicker onLocationSelect={handleLocationSelect} />\r\n            {formData.location && <Marker position={formData.location} />}\r\n          </MapContainer>\r\n        </div>\r\n\r\n        <button type=\"submit\">Register</button>\r\n        {error && <p className=\"error\">{error}</p>}\r\n        {success && <p className=\"success\">{success}</p>}\r\n      </form>\r\n      <div className=\"signup-links\">\r\n        <Link to=\"/login\">Already have an account? Login</Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Signup;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}