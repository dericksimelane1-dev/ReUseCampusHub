{"ast":null,"code":"import React,{useEffect,useRef}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const MapPicker=_ref=>{let{setLocation}=_ref;const mapRef=useRef(null);const markerRef=useRef(null);useEffect(()=>{const initMap=()=>{const map=new window.google.maps.Map(mapRef.current,{center:{lat:-25.7676,lng:29.4648},// Middelburg\nzoom:13});map.addListener('click',e=>{const lat=e.latLng.lat();const lng=e.latLng.lng();setLocation({lat,lng});if(markerRef.current){markerRef.current.setMap(null);}markerRef.current=new window.google.maps.Marker({position:{lat,lng},map});});};const loadGoogleMapsScript=()=>{const existingScript=document.getElementById('googleMaps');if(!existingScript){console.log('ENV:',process.env);const apiKey='AIzaSyBKxhggv1a7Y3h8yR37nRKQfFZ4EI8TMOc';console.log('Google Maps API Key:',apiKey);// ✅ Add this line here\nconst script=document.createElement('script');script.src=\"https://maps.googleapis.com/maps/api/js?key=\".concat(apiKey);script.id='googleMaps';script.async=true;script.defer=true;script.onload=initMap;document.head.appendChild(script);}else{initMap();}};if(!window.google||!window.google.maps){loadGoogleMapsScript();}else{initMap();}},[setLocation]);return/*#__PURE__*/_jsx(\"div\",{ref:mapRef,style:{height:'300px',width:'100%'}});};export default MapPicker;","map":{"version":3,"names":["React","useEffect","useRef","jsx","_jsx","MapPicker","_ref","setLocation","mapRef","markerRef","initMap","map","window","google","maps","Map","current","center","lat","lng","zoom","addListener","e","latLng","setMap","Marker","position","loadGoogleMapsScript","existingScript","document","getElementById","console","log","process","env","apiKey","script","createElement","src","concat","id","async","defer","onload","head","appendChild","ref","style","height","width"],"sources":["C:/Users/dericks.MIDMUNIC/Documents/ReUseCampusHub/client/src/components/MapPicker.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\n\r\nconst MapPicker = ({ setLocation }) => {\r\n  const mapRef = useRef(null);\r\n  const markerRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const initMap = () => {\r\n      const map = new window.google.maps.Map(mapRef.current, {\r\n        center: { lat: -25.7676, lng: 29.4648 }, // Middelburg\r\n        zoom: 13,\r\n      });\r\n\r\n      map.addListener('click', (e) => {\r\n        const lat = e.latLng.lat();\r\n        const lng = e.latLng.lng();\r\n        setLocation({ lat, lng });\r\n\r\n        if (markerRef.current) {\r\n          markerRef.current.setMap(null);\r\n        }\r\n\r\n        markerRef.current = new window.google.maps.Marker({\r\n          position: { lat, lng },\r\n          map,\r\n        });\r\n      });\r\n    };\r\n\r\n    const loadGoogleMapsScript = () => {\r\n  const existingScript = document.getElementById('googleMaps');\r\n\r\n  if (!existingScript) {\r\n    console.log('ENV:', process.env);\r\n    const apiKey = 'AIzaSyBKxhggv1a7Y3h8yR37nRKQfFZ4EI8TMOc';\r\n    console.log('Google Maps API Key:', apiKey); // ✅ Add this line here\r\n\r\n    const script = document.createElement('script');\r\n    script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}`;\r\n    script.id = 'googleMaps';\r\n    script.async = true;\r\n    script.defer = true;\r\n    script.onload = initMap;\r\n    document.head.appendChild(script);\r\n  } else {\r\n    initMap();\r\n  }\r\n};\r\n\r\n    if (!window.google || !window.google.maps) {\r\n      loadGoogleMapsScript();\r\n    } else {\r\n      initMap();\r\n    }\r\n  }, [setLocation]);\r\n\r\n  return <div ref={mapRef} style={{ height: '300px', width: '100%' }} />;\r\n};\r\n\r\nexport default MapPicker;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEjD,KAAM,CAAAC,SAAS,CAAGC,IAAA,EAAqB,IAApB,CAAEC,WAAY,CAAC,CAAAD,IAAA,CAChC,KAAM,CAAAE,MAAM,CAAGN,MAAM,CAAC,IAAI,CAAC,CAC3B,KAAM,CAAAO,SAAS,CAAGP,MAAM,CAAC,IAAI,CAAC,CAE9BD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAS,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAAAC,GAAG,CAAG,GAAI,CAAAC,MAAM,CAACC,MAAM,CAACC,IAAI,CAACC,GAAG,CAACP,MAAM,CAACQ,OAAO,CAAE,CACrDC,MAAM,CAAE,CAAEC,GAAG,CAAE,CAAC,OAAO,CAAEC,GAAG,CAAE,OAAQ,CAAC,CAAE;AACzCC,IAAI,CAAE,EACR,CAAC,CAAC,CAEFT,GAAG,CAACU,WAAW,CAAC,OAAO,CAAGC,CAAC,EAAK,CAC9B,KAAM,CAAAJ,GAAG,CAAGI,CAAC,CAACC,MAAM,CAACL,GAAG,CAAC,CAAC,CAC1B,KAAM,CAAAC,GAAG,CAAGG,CAAC,CAACC,MAAM,CAACJ,GAAG,CAAC,CAAC,CAC1BZ,WAAW,CAAC,CAAEW,GAAG,CAAEC,GAAI,CAAC,CAAC,CAEzB,GAAIV,SAAS,CAACO,OAAO,CAAE,CACrBP,SAAS,CAACO,OAAO,CAACQ,MAAM,CAAC,IAAI,CAAC,CAChC,CAEAf,SAAS,CAACO,OAAO,CAAG,GAAI,CAAAJ,MAAM,CAACC,MAAM,CAACC,IAAI,CAACW,MAAM,CAAC,CAChDC,QAAQ,CAAE,CAAER,GAAG,CAAEC,GAAI,CAAC,CACtBR,GACF,CAAC,CAAC,CACJ,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAgB,oBAAoB,CAAGA,CAAA,GAAM,CACrC,KAAM,CAAAC,cAAc,CAAGC,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAE5D,GAAI,CAACF,cAAc,CAAE,CACnBG,OAAO,CAACC,GAAG,CAAC,MAAM,CAAEC,OAAO,CAACC,GAAG,CAAC,CAChC,KAAM,CAAAC,MAAM,CAAG,yCAAyC,CACxDJ,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAEG,MAAM,CAAC,CAAE;AAE7C,KAAM,CAAAC,MAAM,CAAGP,QAAQ,CAACQ,aAAa,CAAC,QAAQ,CAAC,CAC/CD,MAAM,CAACE,GAAG,gDAAAC,MAAA,CAAkDJ,MAAM,CAAE,CACpEC,MAAM,CAACI,EAAE,CAAG,YAAY,CACxBJ,MAAM,CAACK,KAAK,CAAG,IAAI,CACnBL,MAAM,CAACM,KAAK,CAAG,IAAI,CACnBN,MAAM,CAACO,MAAM,CAAGjC,OAAO,CACvBmB,QAAQ,CAACe,IAAI,CAACC,WAAW,CAACT,MAAM,CAAC,CACnC,CAAC,IAAM,CACL1B,OAAO,CAAC,CAAC,CACX,CACF,CAAC,CAEG,GAAI,CAACE,MAAM,CAACC,MAAM,EAAI,CAACD,MAAM,CAACC,MAAM,CAACC,IAAI,CAAE,CACzCa,oBAAoB,CAAC,CAAC,CACxB,CAAC,IAAM,CACLjB,OAAO,CAAC,CAAC,CACX,CACF,CAAC,CAAE,CAACH,WAAW,CAAC,CAAC,CAEjB,mBAAOH,IAAA,QAAK0C,GAAG,CAAEtC,MAAO,CAACuC,KAAK,CAAE,CAAEC,MAAM,CAAE,OAAO,CAAEC,KAAK,CAAE,MAAO,CAAE,CAAE,CAAC,CACxE,CAAC,CAED,cAAe,CAAA5C,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}